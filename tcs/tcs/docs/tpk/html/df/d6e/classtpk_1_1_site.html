<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tpk: tpk::Site Class Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="../../annotated.html"><span>Classes</span></a></li>
    <li><a href="../../files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<b>tpk</b>::<a class="el" href="../../df/d6e/classtpk_1_1_site.html">Site</a></div>
<h1>tpk::Site Class Reference</h1><!-- doxytag: class="tpk::Site" --><code>#include &lt;<a class="el" href="../../d8/d52/_site_8h-source.html">Site.h</a>&gt;</code>
<p>
Collaboration diagram for tpk::Site:<p><center><img src="../../d8/d0f/classtpk_1_1_site__coll__graph.png" border="0" usemap="#d8/d92/tpk_1_1_site__coll__map" alt="Collaboration graph"></center>
<map name="d8/d92/tpk_1_1_site__coll__map">
<area href="../../d1/d00/classtpk_1_1_tcs_mutex.html" shape="rect" coords="5,5,112,32" alt="">
</map>
<center><font size="2">[<a href="../../graph_legend.html">legend</a>]</font></center><a href="../../d4/d97/classtpk_1_1_site-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Telecope site. 
<p>
A site defines the location of the telescope. It:<p>
<ul>
<li>Calculates the latitude and longitude of the telescope corrected for polar motion and the diurnal correction to azimuth.</li><li>Maintains the parameter arrays used by the slalib quick mean to apparent and apparent to observed place routines.</li><li>Maintains a reference time in a variety of time scales so that time conversions can be done with simple extrapolation.</li></ul>
<p>
Its refresh method must be called at some suitable interval, typically once a minute, with the current temperature, atmospheric pressure and humidity.<p>
All the methods of this class are thread safe. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#bcb3939c388c0347d986cdbe35775581">Site</a> (const double &amp;tai, const double &amp;delat, const double &amp;delut, const double &amp;ttmtai, const double &amp;elongm, const double &amp;latm, const double &amp;hm, const double &amp;xpm, const double &amp;ypm)  throw (std::runtime_error)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#acc4a55c2779cea74abc215ed009f919">Site</a> (const <a class="el" href="../../df/d6e/classtpk_1_1_site.html">Site</a> &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#e810fa1c060b274292dfb5669a3247b5">refresh</a> (const double &amp;tai, const double &amp;temp, const double &amp;press, const double &amp;hum)  throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The "slow" update.  <a href="#e810fa1c060b274292dfb5669a3247b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#e9a57507cabdb561b8b48190d0ef56aa">refresh</a> (const double &amp;tai)  throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Slow update with no change to atmospheric parameters.  <a href="#e9a57507cabdb561b8b48190d0ef56aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#2165ce30d984ee4f63c2068a3c92772c">st</a> (const double &amp;t) const   throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert TAI to sidereal time.  <a href="#2165ce30d984ee4f63c2068a3c92772c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#6b020ebc50631166a623c31b742ff43d">tt</a> (const double &amp;t) const   throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert TAI to terrestrial time.  <a href="#6b020ebc50631166a623c31b742ff43d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#6cacbbd268f1eecf4a72230dc09e818b">ttj</a> (const double &amp;t) const   throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert TAI to terrestrial time.  <a href="#6cacbbd268f1eecf4a72230dc09e818b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#2ce8820dd5cee167284b019ed34106e0">amprms</a> (double amprms[21]) const   throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return apparent to mean parameters.  <a href="#2ce8820dd5cee167284b019ed34106e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#44222f2b84756a862873eda29d886a91">aoprms</a> (double aoprms[21]) const   throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return apparent to observed parameters.  <a href="#44222f2b84756a862873eda29d886a91"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5f8b7ec4db22c4d2f1af6090db7a36b8"></a><!-- doxytag: member="tpk::Site::Mutex" ref="5f8b7ec4db22c4d2f1af6090db7a36b8" args="" -->
<a class="el" href="../../d1/d00/classtpk_1_1_tcs_mutex.html">TcsMutex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#5f8b7ec4db22c4d2f1af6090db7a36b8">Mutex</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mutex <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fb49156ecda347795571d45a0d3cb9c8"></a><!-- doxytag: member="tpk::Site::Elongm" ref="fb49156ecda347795571d45a0d3cb9c8" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#fb49156ecda347795571d45a0d3cb9c8">Elongm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mean east longitude (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="221f34aa0ed9bc630d39d460cd637fff"></a><!-- doxytag: member="tpk::Site::Latm" ref="221f34aa0ed9bc630d39d460cd637fff" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#221f34aa0ed9bc630d39d460cd637fff">Latm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mean latitude (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e05f6bf118495f7ece0f2ebd2400277e"></a><!-- doxytag: member="tpk::Site::Hm" ref="e05f6bf118495f7ece0f2ebd2400277e" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#e05f6bf118495f7ece0f2ebd2400277e">Hm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">height (metres) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="611d7f80dbd6182da11ba485887f46ea"></a><!-- doxytag: member="tpk::Site::Xpm" ref="611d7f80dbd6182da11ba485887f46ea" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#611d7f80dbd6182da11ba485887f46ea">Xpm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">polar motion in x (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e2d924d5ec6ed533144b2a38e631a5db"></a><!-- doxytag: member="tpk::Site::Ypm" ref="e2d924d5ec6ed533144b2a38e631a5db" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#e2d924d5ec6ed533144b2a38e631a5db">Ypm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">polar motion in y(radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="75672661451dbd0d1177da0391d67f62"></a><!-- doxytag: member="tpk::Site::Delut" ref="75672661451dbd0d1177da0391d67f62" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#75672661451dbd0d1177da0391d67f62">Delut</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UT1 - UTC (days). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b4bd2757fe00aeee58115a4a27750828"></a><!-- doxytag: member="tpk::Site::Delat" ref="b4bd2757fe00aeee58115a4a27750828" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#b4bd2757fe00aeee58115a4a27750828">Delat</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TAI -UTC (days). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0333582f5c2237a5ba0e093f09fa047"></a><!-- doxytag: member="tpk::Site::Ttmtai" ref="a0333582f5c2237a5ba0e093f09fa047" args="" -->
const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#a0333582f5c2237a5ba0e093f09fa047">Ttmtai</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TT - TAI (days). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0da4b22f651c7ab81d2f431570bc25bf"></a><!-- doxytag: member="tpk::Site::Elong" ref="0da4b22f651c7ab81d2f431570bc25bf" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#0da4b22f651c7ab81d2f431570bc25bf">Elong</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">corrected east longitude (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5e8ee6d6ed4fb13a1f3c84dd25ff2552"></a><!-- doxytag: member="tpk::Site::Lat" ref="5e8ee6d6ed4fb13a1f3c84dd25ff2552" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#5e8ee6d6ed4fb13a1f3c84dd25ff2552">Lat</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">corrected latitude (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c1ec9ef05f9a6d925c435fb39d883fbf"></a><!-- doxytag: member="tpk::Site::Uau" ref="c1ec9ef05f9a6d925c435fb39d883fbf" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#c1ec9ef05f9a6d925c435fb39d883fbf">Uau</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">distance from spin axis (AU) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bbc5980f1c5ca3c97ca62f7496d4df1b"></a><!-- doxytag: member="tpk::Site::Vau" ref="bbc5980f1c5ca3c97ca62f7496d4df1b" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#bbc5980f1c5ca3c97ca62f7496d4df1b">Vau</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">distance from equator (AU) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="27a895d1792d2d561283b532061ffb93"></a><!-- doxytag: member="tpk::Site::Ukm" ref="27a895d1792d2d561283b532061ffb93" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#27a895d1792d2d561283b532061ffb93">Ukm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">distance from spin axis (km) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3577e126cd4f211017b6bbf6d28812bc"></a><!-- doxytag: member="tpk::Site::Vkm" ref="3577e126cd4f211017b6bbf6d28812bc" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#3577e126cd4f211017b6bbf6d28812bc">Vkm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">distance from equator (km) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1b173461ba7ca47b3456baeed177b32f"></a><!-- doxytag: member="tpk::Site::Diurab" ref="1b173461ba7ca47b3456baeed177b32f" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#1b173461ba7ca47b3456baeed177b32f">Diurab</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">diurnal aberration (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6bfecc4733b8495794caf5315f997b0b"></a><!-- doxytag: member="tpk::Site::Temp" ref="6bfecc4733b8495794caf5315f997b0b" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#6bfecc4733b8495794caf5315f997b0b">Temp</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current temperature (deg K) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0dbb553d7b0d40dbb5fe3456c535635b"></a><!-- doxytag: member="tpk::Site::Press" ref="0dbb553d7b0d40dbb5fe3456c535635b" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#0dbb553d7b0d40dbb5fe3456c535635b">Press</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current pressure (mBar) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6219bd9ec601d575421ea586586088be"></a><!-- doxytag: member="tpk::Site::Humid" ref="6219bd9ec601d575421ea586586088be" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#6219bd9ec601d575421ea586586088be">Humid</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current relative humidity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="441d74d0d622b0892035d9c4c47bc994"></a><!-- doxytag: member="tpk::Site::Tai" ref="441d74d0d622b0892035d9c4c47bc994" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#441d74d0d622b0892035d9c4c47bc994">Tai</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">currenttime TAI (MJD) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="80467454153157c66246cfca26faf605"></a><!-- doxytag: member="tpk::Site::T0" ref="80467454153157c66246cfca26faf605" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#80467454153157c66246cfca26faf605">T0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reference epoch TAI (MJD) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7d0676b8f8453e93246c247da70dd40e"></a><!-- doxytag: member="tpk::Site::St0" ref="7d0676b8f8453e93246c247da70dd40e" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#7d0676b8f8453e93246c247da70dd40e">St0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reference siderial time (radians) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fedfab04f7396034b850525926d4c7cb"></a><!-- doxytag: member="tpk::Site::Tt0" ref="fedfab04f7396034b850525926d4c7cb" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#fedfab04f7396034b850525926d4c7cb">Tt0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reference time TT (MJD) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2dc4b655d0a14389e0d3cafa75ae426c"></a><!-- doxytag: member="tpk::Site::Ttj" ref="2dc4b655d0a14389e0d3cafa75ae426c" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#2dc4b655d0a14389e0d3cafa75ae426c">Ttj</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reference time TT (Julian date) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="622f1ed26e307b17e081f99c28669180"></a><!-- doxytag: member="tpk::Site::Amprms" ref="622f1ed26e307b17e081f99c28669180" args="[21]" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#622f1ed26e307b17e081f99c28669180">Amprms</a> [21]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">apparent to mean parameters <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="84b4b321dcc812ca9acc378e287a8c80"></a><!-- doxytag: member="tpk::Site::Aoprms" ref="84b4b321dcc812ca9acc378e287a8c80" args="[15]" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#84b4b321dcc812ca9acc378e287a8c80">Aoprms</a> [15]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">apparent to observed parameters <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b13db7d5f55c1af617ead0c93f2e8053"></a><!-- doxytag: member="tpk::Site::Refa" ref="b13db7d5f55c1af617ead0c93f2e8053" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#b13db7d5f55c1af617ead0c93f2e8053">Refa</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">tan refraction constant <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="303105a1646802b29cb002ff9b936b82"></a><!-- doxytag: member="tpk::Site::Refb" ref="303105a1646802b29cb002ff9b936b82" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#303105a1646802b29cb002ff9b936b82">Refb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">tan**3 refraction constant <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="14af017044940058d8f674aedba5e28a"></a><!-- doxytag: member="tpk::Site::Daz" ref="14af017044940058d8f674aedba5e28a" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6e/classtpk_1_1_site.html#14af017044940058d8f674aedba5e28a">Daz</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">daily motion <br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="bcb3939c388c0347d986cdbe35775581"></a><!-- doxytag: member="tpk::Site::Site" ref="bcb3939c388c0347d986cdbe35775581" args="(const double &amp;tai, const double &amp;delat, const double &amp;delut, const double &amp;ttmtai, const double &amp;elongm, const double &amp;latm, const double &amp;hm, const double &amp;xpm, const double &amp;ypm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tpk::Site::Site           </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>tai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>delut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>delat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>ttmtai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>elongm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>latm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>hm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>xpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>ypm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw (std::runtime_error)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>std::runtime_error</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tai</em>&nbsp;</td><td>
current TAI (MJD) </td></tr>
<tr><td valign="top"><em>delut</em>&nbsp;</td><td>
current UT1-UTC (seconds) </td></tr>
<tr><td valign="top"><em>delat</em>&nbsp;</td><td>
TAI-UTC (seconds) </td></tr>
<tr><td valign="top"><em>ttmtai</em>&nbsp;</td><td>
TT-TAI (seconds) </td></tr>
<tr><td valign="top"><em>elongm</em>&nbsp;</td><td>
longitude of site (degrees, east +ve) </td></tr>
<tr><td valign="top"><em>latm</em>&nbsp;</td><td>
geodetic latitude of site (degrees) </td></tr>
<tr><td valign="top"><em>hm</em>&nbsp;</td><td>
site elevation (meters above sea level) </td></tr>
<tr><td valign="top"><em>xpm</em>&nbsp;</td><td>
polar motion x (arcseconds) </td></tr>
<tr><td valign="top"><em>ypm</em>&nbsp;</td><td>
polar motion y (arcseconds) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="acc4a55c2779cea74abc215ed009f919"></a><!-- doxytag: member="tpk::Site::Site" ref="acc4a55c2779cea74abc215ed009f919" args="(const Site &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tpk::Site::Site           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/d6e/classtpk_1_1_site.html">Site</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>src</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The copy constructor makes a copy of the context protected by a the source mutex. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e810fa1c060b274292dfb5669a3247b5"></a><!-- doxytag: member="tpk::Site::refresh" ref="e810fa1c060b274292dfb5669a3247b5" args="(const double &amp;tai, const double &amp;temp, const double &amp;press, const double &amp;hum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tpk::Site::refresh           </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>tai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>press</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>humid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The "slow" update. 
<p>
The slow update maintains those things that are slowly changing and target independent such as the refraction constants, the mean to apparent place parameters and a reference time in various time-scales. It can be executed at intervals of about 1 minute, depending mainly on the desired response to changes in the weather data.<p>
If the temperature, pressure and humidity are coming from a sensor of some sort, the measurements should have some degree of smoothing and range checking applied to prevent bad measurements upsetting the tracking of the telescope. If real measurements are not available then:<p>
<ol type=1>
<li>Guess or estimate the temperature = temp, e.g. 278.0</li><li>Guess or estimate the humidity = hum, e.g. 0.5</li><li>Predict the pressure = press</li></ol>
<p>
= 1013.25 * exp ( -hm / ( 29.3 * ( tempc + 0.0065*hm ) ) )<p>
where temp is the estimated ambient temperature (K = C+273.15) and hm the site elevation in meters. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tai</em>&nbsp;</td><td>
current TAI (MJD) </td></tr>
<tr><td valign="top"><em>temp</em>&nbsp;</td><td>
current temperature (Kelvin) </td></tr>
<tr><td valign="top"><em>press</em>&nbsp;</td><td>
current atmospheric pressure (mBar=hPa) </td></tr>
<tr><td valign="top"><em>humid</em>&nbsp;</td><td>
current relative humidity (fraction, 0.0-1.0) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="e9a57507cabdb561b8b48190d0ef56aa"></a><!-- doxytag: member="tpk::Site::refresh" ref="e9a57507cabdb561b8b48190d0ef56aa" args="(const double &amp;tai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tpk::Site::refresh           </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>tai</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Slow update with no change to atmospheric parameters. 
<p>
The reference time and precession are updated without changing the refraction constants. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tai</em>&nbsp;</td><td>
current TAI (MJD) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="2165ce30d984ee4f63c2068a3c92772c"></a><!-- doxytag: member="tpk::Site::st" ref="2165ce30d984ee4f63c2068a3c92772c" args="(const double &amp;t) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tpk::Site::st           </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>tai</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert TAI to sidereal time. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>sidereal time (radians) </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tai</em>&nbsp;</td><td>
TAI (MJD) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="6b020ebc50631166a623c31b742ff43d"></a><!-- doxytag: member="tpk::Site::tt" ref="6b020ebc50631166a623c31b742ff43d" args="(const double &amp;t) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tpk::Site::tt           </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>tai</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert TAI to terrestrial time. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TT (MJD) </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tai</em>&nbsp;</td><td>
time TAI (MJD) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="6cacbbd268f1eecf4a72230dc09e818b"></a><!-- doxytag: member="tpk::Site::ttj" ref="6cacbbd268f1eecf4a72230dc09e818b" args="(const double &amp;t) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tpk::Site::ttj           </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&nbsp;</td>
          <td class="paramname"> <em>tai</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert TAI to terrestrial time. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TT (Julian epoch) </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>tai</em>&nbsp;</td><td>
TAI (MJD) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="2ce8820dd5cee167284b019ed34106e0"></a><!-- doxytag: member="tpk::Site::amprms" ref="2ce8820dd5cee167284b019ed34106e0" args="(double amprms[21]) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tpk::Site::amprms           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>amprms</em>[21]          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return apparent to mean parameters. 
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>amprms</em>&nbsp;</td><td>
apparent to mean parameters. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="44222f2b84756a862873eda29d886a91"></a><!-- doxytag: member="tpk::Site::aoprms" ref="44222f2b84756a862873eda29d886a91" args="(double aoprms[21]) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tpk::Site::aoprms           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>aoprms</em>[21]          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return apparent to observed parameters. 
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>aoprms</em>&nbsp;</td><td>
apparent to observed parameters. </td></tr>
</table>
</dl>
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d8/d52/_site_8h-source.html">Site.h</a><li><a class="el" href="../../db/dea/_site_8cpp.html">Site.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Mar 1 15:00:52 2007 for tpk by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
